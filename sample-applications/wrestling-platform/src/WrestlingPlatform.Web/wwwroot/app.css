h1:focus {
    outline: none;
}

:root {
    --ui-line-soft: #ded8c9;
    --ui-shadow-soft: 0 10px 24px rgba(33, 39, 44, 0.08);
    --ui-shadow-hover: 0 16px 30px rgba(33, 39, 44, 0.13);
}

.page-head {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: end;
    gap: 1rem;
    margin-bottom: 1rem;
}

.page-title {
    margin: 0;
    font-family: "Barlow Condensed", "Arial Narrow", sans-serif;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    font-size: clamp(1.7rem, 2.2vw, 2.35rem);
    color: #1d272d;
}

.page-subtitle {
    margin: 0.3rem 0 0;
    color: #5c6871;
    max-width: 70ch;
}

.tag-row {
    display: flex;
    gap: 0.45rem;
    flex-wrap: wrap;
}

.tag {
    background: #f4f0e6;
    border: 1px solid #d6cfbe;
    border-radius: 999px;
    color: #49545c;
    padding: 0.3rem 0.7rem;
    font-size: 0.82rem;
    font-weight: 600;
}

.metric-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 0.8rem;
    margin-bottom: 1rem;
}

.metric-card {
    border: 1px solid var(--ui-line-soft);
    border-radius: 14px;
    background: linear-gradient(165deg, #fff 0%, #fffaf0 100%);
    padding: 0.85rem;
    box-shadow: var(--ui-shadow-soft);
}

.metric-label {
    color: #5c6871;
    font-size: 0.86rem;
}

.metric-value {
    margin-top: 0.25rem;
    font-size: 1.6rem;
    font-weight: 700;
    color: #1d272d;
}

.panel-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.9rem;
}

@media (min-width: 1080px) {
    .panel-grid.two {
        grid-template-columns: 1fr 1fr;
    }

    .panel-grid.three {
        grid-template-columns: 1.05fr 1.05fr 0.9fr;
    }
}

.panel {
    border: 1px solid var(--ui-line-soft);
    background: linear-gradient(165deg, #fff 0%, #fffcf5 100%);
    border-radius: 14px;
    padding: 0.9rem;
    box-shadow: var(--ui-shadow-soft);
    transition: box-shadow 180ms ease, transform 180ms ease;
}

.panel:hover {
    box-shadow: var(--ui-shadow-hover);
    transform: translateY(-1px);
}

.panel h2,
.panel h3 {
    margin: 0;
    font-family: "Barlow Condensed", "Arial Narrow", sans-serif;
    letter-spacing: 0.02em;
    text-transform: uppercase;
    color: #1d272d;
}

.panel h2 {
    font-size: 1.4rem;
}

.panel h3 {
    font-size: 1.15rem;
}

.panel p {
    color: #5d6870;
}

.form-grid {
    display: grid;
    gap: 0.65rem;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}

.field {
    display: grid;
    gap: 0.25rem;
}

.field label {
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: #58656e;
    font-weight: 700;
}

.input,
.select,
.textarea {
    width: 100%;
    border: 1px solid #c8c0ad;
    border-radius: 10px;
    background: #fff;
    font: inherit;
    color: #1d272d;
    padding: 0.48rem 0.58rem;
    transition: border-color 120ms ease, box-shadow 120ms ease;
}

.input:focus,
.select:focus,
.textarea:focus {
    border-color: #f07c4f;
    box-shadow: 0 0 0 3px rgba(240, 124, 79, 0.16);
    outline: none;
}

.textarea {
    min-height: 88px;
    resize: vertical;
}

.check-row {
    display: flex;
    align-items: center;
    gap: 0.4rem;
}

.actions {
    margin-top: 0.75rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.btn {
    border: 0;
    border-radius: 10px;
    padding: 0.5rem 0.78rem;
    font: inherit;
    font-weight: 700;
    cursor: pointer;
    transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease;
}

.btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 16px rgba(39, 45, 52, 0.18);
}

.btn:active {
    transform: translateY(0);
    box-shadow: none;
}

.btn.primary {
    background: linear-gradient(145deg, #ea553b, #f07c4f);
    color: #fff;
}

.btn.secondary {
    background: linear-gradient(145deg, #1a78bf, #3295df);
    color: #fff;
}

.btn.ghost {
    background: #f5f1e8;
    border: 1px solid #d2c9b7;
    color: #2c353b;
}

.btn:disabled {
    opacity: 0.55;
    cursor: wait;
}

.alert {
    margin-top: 0.75rem;
    border-radius: 10px;
    padding: 0.55rem 0.68rem;
    border: 1px solid;
}

.alert.success {
    background: #eaf7ef;
    border-color: #acd5ba;
    color: #1f5630;
}

.alert.error {
    background: #ffefef;
    border-color: #f0b4b4;
    color: #8d2727;
}

.list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0.55rem;
}

.list-item {
    border: 1px solid var(--ui-line-soft);
    background: #fffdf8;
    border-radius: 12px;
    padding: 0.68rem;
    box-shadow: 0 4px 12px rgba(34, 40, 44, 0.06);
}

.item-head {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 0.5rem;
    align-items: baseline;
}

.item-title {
    font-weight: 700;
    color: #1e272d;
}

.item-meta {
    color: #5e6972;
    font-size: 0.9rem;
}

.mono {
    font-family: "Consolas", "Courier New", monospace;
    font-size: 0.9rem;
}

.table-wrap {
    overflow-x: auto;
}

.table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.93rem;
}

.table th,
.table td {
    border-bottom: 1px solid #e0dacc;
    text-align: left;
    padding: 0.48rem 0.4rem;
}

.table th {
    text-transform: uppercase;
    letter-spacing: 0.04em;
    font-size: 0.75rem;
    color: #66737d;
}

.table tbody tr:hover {
    background: #fff8ea;
}

.rail {
    display: grid;
    gap: 0.8rem;
}

.timeline {
    border-left: 3px solid #d6cfbe;
    padding-left: 0.75rem;
    display: grid;
    gap: 0.6rem;
}

.timeline-item {
    position: relative;
}

.timeline-item::before {
    content: "";
    position: absolute;
    left: -0.95rem;
    top: 0.25rem;
    width: 0.42rem;
    height: 0.42rem;
    border-radius: 999px;
    background: #ea553b;
}

.helper {
    color: #5f6b73;
    font-size: 0.86rem;
}

.split {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
}

.spacer-top {
    margin-top: 0.8rem;
}

hr.soft {
    border: 0;
    border-top: 1px solid #dfd8c8;
    margin: 0.8rem 0;
}

.scoreboard-grid {
    display: grid;
    gap: 0.9rem;
    grid-template-columns: 1fr;
}

@media (min-width: 1024px) {
    .scoreboard-grid {
        grid-template-columns: 1fr 1.05fr 1fr;
    }
}

.scoreboard-side {
    display: grid;
    gap: 0.6rem;
    align-content: start;
}

.scoreboard-center {
    display: grid;
    align-content: center;
    justify-items: center;
    text-align: center;
    gap: 0.45rem;
    background: linear-gradient(155deg, #fff 0%, #f5f9ff 100%);
}

.score-value {
    font-size: clamp(2rem, 5vw, 3rem);
    font-family: "Barlow Condensed", "Arial Narrow", sans-serif;
    line-height: 1;
    color: #1f2a34;
}

.duel-score {
    font-family: "Barlow Condensed", "Arial Narrow", sans-serif;
    font-size: clamp(2.2rem, 7vw, 4rem);
    display: flex;
    gap: 0.6rem;
    align-items: center;
    color: #1c2730;
}

.duel-sep {
    color: #6f7b84;
}

.bracket-lane {
    display: flex;
    gap: 0.9rem;
    overflow-x: auto;
    padding-bottom: 0.4rem;
}

.bracket-round {
    min-width: 280px;
    display: grid;
    gap: 0.6rem;
    align-content: start;
}

.bracket-card {
    border: 1px solid #d6cfbe;
    border-radius: 12px;
    background: #fff;
    padding: 0.65rem;
}

.bracket-tree-wrap {
    overflow-x: auto;
    overflow-y: hidden;
    border: 1px solid #d8d1c0;
    border-radius: 14px;
    background: linear-gradient(180deg, #f6f7fb 0%, #f2f4f8 100%);
    padding: 0.65rem;
    cursor: grab;
}

.bracket-tree-wrap.is-panning {
    cursor: grabbing;
    user-select: none;
}

.bracket-stage {
    position: relative;
}

.bracket-stage-canvas {
    position: relative;
}

.bracket-links {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.bracket-link {
    fill: none;
    stroke-width: 2.1;
    vector-effect: non-scaling-stroke;
}

.bracket-link.active {
    stroke: #5d6f82;
}

.bracket-link.muted {
    stroke: rgba(131, 143, 156, 0.35);
}

.bracket-round-label {
    position: absolute;
    top: 0.45rem;
    text-align: left;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.07em;
    color: #68757e;
    font-weight: 800;
}

.bracket-node {
    position: absolute;
    width: 320px;
    height: 148px;
    border: 1px solid #d2cbb8;
    border-radius: 12px;
    background: #fff;
    box-shadow: 0 7px 16px rgba(25, 32, 39, 0.08);
    padding: 0.52rem 0.58rem;
    transition: transform 140ms ease, box-shadow 140ms ease, opacity 140ms ease;
    cursor: pointer;
}

.bracket-node:hover {
    transform: translateY(-1px);
    box-shadow: 0 12px 26px rgba(25, 32, 39, 0.16);
}

.bracket-node:focus-visible {
    outline: 3px solid rgba(47, 123, 203, 0.35);
    outline-offset: 2px;
}

.bracket-node.muted {
    opacity: 0.42;
}

.bracket-node.selected {
    border-color: #2f7bcb;
    box-shadow: 0 0 0 2px rgba(47, 123, 203, 0.24), 0 12px 26px rgba(25, 32, 39, 0.16);
}

.bracket-node.live {
    border-color: #1e8f5f;
    box-shadow: 0 8px 22px rgba(24, 147, 93, 0.21);
}

.bracket-node.in-hole {
    border-color: #cc9f2f;
}

.bracket-node.complete {
    border-color: #5e6d7d;
}

.bracket-node.forfeit,
.bracket-node.cancelled {
    border-color: #b06767;
}

.bracket-node-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
}

.bracket-node-label {
    color: #5a6770;
    font-size: 0.75rem;
    margin-top: 0.12rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.bracket-athlete {
    margin-top: 0.22rem;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: #1f2a31;
}

.bracket-athlete.winner {
    font-weight: 800;
    color: #102b4a;
}

.pool-board-wrap {
    border: 1px solid #d8d1c0;
    border-radius: 12px;
    background: #fbfcff;
    padding: 0.45rem;
}

.pool-board td {
    vertical-align: top;
}

.pool-cell {
    min-width: 140px;
    border: 1px solid #d5cfbe;
    border-radius: 10px;
    padding: 0.35rem;
    background: #fff;
    display: grid;
    gap: 0.2rem;
    cursor: pointer;
}

.pool-cell.empty {
    min-width: 72px;
    justify-content: center;
    text-align: center;
    color: #7c8893;
    background: #f7f8fb;
}

.pool-cell.win {
    border-color: #7fcb9f;
    background: #f0fff4;
}

.pool-cell.loss {
    border-color: #e2cbc2;
    background: #fff7f5;
}

.pool-cell.live {
    border-color: #4ba17a;
    box-shadow: inset 0 0 0 1px rgba(42, 133, 93, 0.22);
}

.pool-cell.selected {
    border-color: #2f7bcb;
    box-shadow: 0 0 0 2px rgba(47, 123, 203, 0.23);
}

.pool-cell:focus-visible {
    outline: 3px solid rgba(47, 123, 203, 0.35);
    outline-offset: 2px;
}

.pool-cell-title {
    font-weight: 700;
}

.pool-cell-btn {
    padding: 0.2rem 0.45rem;
    font-size: 0.78rem;
}

.zoom-row {
    align-items: center;
}

.zoom-slider {
    min-width: 180px;
    max-width: 280px;
}

.zoom-btn {
    min-width: 40px;
}

.support-faq-item {
    padding: 0;
    overflow: hidden;
}

.support-faq-link {
    display: block;
    padding: 0.68rem;
    border-bottom: 1px solid transparent;
}

.support-faq-link:hover {
    background: #fff8ec;
}

.support-faq-link:focus-visible {
    outline: 3px solid rgba(47, 123, 203, 0.35);
    outline-offset: -3px;
}

.support-faq-actions {
    padding: 0 0.68rem 0.68rem;
    margin-top: 0;
}

.assistant-action-link {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.7rem;
    border: 1px solid #d7cfbd;
    background: #fff;
    border-radius: 10px;
    padding: 0.58rem 0.64rem;
    transition: background 140ms ease, border-color 140ms ease;
}

.assistant-action-link:hover {
    background: #fff8ec;
    border-color: #cdbf99;
}

.assistant-action-title {
    font-weight: 700;
    color: #223039;
}

.assistant-action-open {
    border: 1px solid #cfc7b4;
    border-radius: 999px;
    padding: 0.15rem 0.55rem;
    color: #51606b;
    font-size: 0.82rem;
    font-weight: 700;
}

.assistant-faq-link {
    display: grid;
    gap: 0.1rem;
    border: 1px solid #d7cfbd;
    background: #fff;
    border-radius: 10px;
    padding: 0.58rem 0.64rem;
    transition: background 140ms ease, border-color 140ms ease;
}

.assistant-faq-link:hover {
    background: #fff8ec;
    border-color: #cdbf99;
}

.assistant-faq-title {
    font-weight: 700;
    color: #223039;
}

.assistant-faq-meta {
    color: #5f6c75;
    font-size: 0.85rem;
}

.bracket-builder-shell {
    display: grid;
    gap: 0.85rem;
}

.wizard-steps {
    display: grid;
    gap: 0.55rem;
    grid-template-columns: repeat(4, minmax(0, 1fr));
}

.wizard-step {
    border: 1px solid #d4cdbd;
    background: #fff;
    color: #27343c;
    border-radius: 12px;
    padding: 0.52rem 0.6rem;
    display: grid;
    justify-items: start;
    gap: 0.12rem;
    cursor: pointer;
    transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease;
}

.wizard-step:hover {
    transform: translateY(-1px);
    box-shadow: 0 9px 18px rgba(29, 35, 40, 0.11);
}

.wizard-step.active {
    border-color: #2f7bcb;
    box-shadow: 0 0 0 2px rgba(47, 123, 203, 0.2);
}

.wizard-step.done {
    border-color: #7dc39d;
    background: #f1fff6;
}

.wizard-step-index {
    font-size: 0.75rem;
    color: #63707b;
    font-weight: 700;
}

.wizard-step-label {
    font-weight: 700;
    color: #1f2a31;
}

.wizard-pane {
    border: 1px solid #ded8c9;
    border-radius: 12px;
    padding: 0.82rem;
    background: #fffef9;
}

.wizard-footer {
    justify-content: space-between;
    margin-top: 0;
}

.wizard-event-item.selected {
    border-color: #2f7bcb;
    box-shadow: 0 0 0 2px rgba(47, 123, 203, 0.21);
}

.bracket-desktop-view {
    display: block;
}

.bracket-mobile-view {
    display: none;
}

.bracket-mobile-cards {
    display: grid;
    gap: 0.6rem;
}

.bracket-mobile-card {
    border: 1px solid #d6cfbe;
    border-radius: 12px;
    background: #fff;
    padding: 0.62rem;
    box-shadow: 0 5px 12px rgba(34, 40, 44, 0.07);
}

.bracket-mobile-card.selected {
    border-color: #2f7bcb;
    box-shadow: 0 0 0 2px rgba(47, 123, 203, 0.23);
}

.bracket-mobile-card.live {
    border-color: #1e8f5f;
}

.bracket-mobile-card.in-hole {
    border-color: #cc9f2f;
}

.pool-mobile-board {
    display: none;
}

.pool-mobile-row {
    background: #fafdff;
}

.pool-mobile-cells {
    display: grid;
    gap: 0.48rem;
}

.pool-mobile-cell {
    display: grid;
    gap: 0.06rem;
    border: 1px solid #d7cfbd;
    border-radius: 10px;
    background: #fff;
    padding: 0.48rem;
}

.pool-mobile-cell.win {
    border-color: #7fcb9f;
    background: #f0fff4;
}

.pool-mobile-cell.loss {
    border-color: #e2cbc2;
    background: #fff7f5;
}

.pool-mobile-cell.live {
    border-color: #4ba17a;
}

.pool-mobile-empty {
    color: #63707a;
    font-size: 0.84rem;
}

@media (max-width: 980px) {
    .form-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }

    .actions .btn,
    .actions a.btn {
        flex: 1 1 calc(50% - 0.5rem);
        text-align: center;
        justify-content: center;
    }

    .wizard-steps {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (max-width: 760px) {
    .page-head {
        align-items: start;
    }

    .panel {
        padding: 0.74rem;
    }

    .actions .btn,
    .actions a.btn {
        flex-basis: 100%;
    }

    .zoom-row {
        display: none;
    }

    .bracket-desktop-view {
        display: none;
    }

    .bracket-mobile-view {
        display: grid;
        gap: 0.7rem;
    }

    .pool-board-wrap {
        display: none;
    }

    .pool-mobile-board {
        display: grid;
        gap: 0.6rem;
    }
}
